(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4700],{4160:(e,s,r)=>{Promise.resolve().then(r.bind(r,6880)),Promise.resolve().then(r.bind(r,7790))},6880:(e,s,r)=>{"use strict";r.d(s,{default:()=>w});var a=r(5155),l=r(2115),t=r(5695),n=r(7168),i=r(9852),d=r(2714),c=r(8482),o=r(5339),u=r(1154),h=r(9026),m=r(6874),x=r.n(m);function w(){let[e,s]=(0,l.useState)(""),[r,m]=(0,l.useState)(""),[w,j]=(0,l.useState)(!1),[p,f]=(0,l.useState)(""),[N,g]=(0,l.useState)(!1),v=(0,t.useRouter)(),b=(0,t.useSearchParams)().get("token"),y=async s=>{if(s.preventDefault(),j(!0),f(""),e!==r){f("Passwords do not match"),j(!1);return}if(e.length<8){f("Password must be at least 8 characters long"),j(!1);return}try{b?(await new Promise(e=>setTimeout(e,1e3)),g(!0),setTimeout(()=>{v.push("/login")},2e3)):f("Invalid or expired reset token")}catch(e){f("An error occurred. Please try again."),console.error(e)}finally{j(!1)}};return N?(0,a.jsxs)(c.Zp,{className:"w-full max-w-md mx-auto",children:[(0,a.jsxs)(c.aR,{children:[(0,a.jsx)(c.ZB,{className:"text-2xl",children:"Password Reset Successful"}),(0,a.jsx)(c.BT,{children:"Your password has been reset successfully. You will be redirected to the login page."})]}),(0,a.jsx)(c.wL,{children:(0,a.jsx)(n.$,{asChild:!0,className:"w-full",children:(0,a.jsx)(x(),{href:"/login",children:"Go to Login"})})})]}):(0,a.jsxs)(c.Zp,{className:"w-full max-w-md mx-auto",children:[(0,a.jsxs)(c.aR,{children:[(0,a.jsx)(c.ZB,{className:"text-2xl",children:"Reset Password"}),(0,a.jsx)(c.BT,{children:"Enter your new password below"})]}),(0,a.jsx)(c.Wu,{children:(0,a.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[p&&(0,a.jsxs)(h.Fc,{variant:"destructive",children:[(0,a.jsx)(o.A,{className:"h-4 w-4"}),(0,a.jsx)(h.TN,{children:p})]}),!b&&(0,a.jsxs)(h.Fc,{variant:"destructive",children:[(0,a.jsx)(o.A,{className:"h-4 w-4"}),(0,a.jsx)(h.TN,{children:"Invalid or missing reset token. Please request a new password reset link."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"password",children:"New Password"}),(0,a.jsx)(i.p,{id:"password",type:"password",value:e,onChange:e=>s(e.target.value),required:!0,disabled:!b||w})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,a.jsx)(i.p,{id:"confirmPassword",type:"password",value:r,onChange:e=>m(e.target.value),required:!0,disabled:!b||w})]}),(0,a.jsx)(n.$,{type:"submit",className:"w-full",disabled:!b||w,children:w?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Resetting password..."]}):"Reset Password"})]})}),(0,a.jsx)(c.wL,{className:"flex justify-center",children:(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Remember your password?"," ",(0,a.jsx)(x(),{href:"/login",className:"text-primary hover:underline",children:"Back to login"})]})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[2848,6874,6147,8441,1684,7358],()=>s(4160)),_N_E=e.O()}]);